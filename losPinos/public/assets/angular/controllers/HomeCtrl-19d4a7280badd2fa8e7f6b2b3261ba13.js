(function(){App.controller("HomeCtrl",["$scope","$location","$http","$timeout","Reserva",function(e,a,o,t,n){var r;return e.reservas=[],o.get("./ultimas_reservas.json").success(function(a){return e.reservas=a}),e.difference=function(e){var a,o,t,n;return a=Math.round((Date.parse(e.fecha_inicio_estadia)-Date.now())/864e5),o=Math.round((Date.parse(e.fecha_inicio_estadia)-Date.now())/36e5),t=Math.round((Date.parse(e.fecha_inicio_estadia)-Date.now())/6e4),0>t?(n="hace ",t=-1*t,o=-1*o,a=-1*a):n="en ",t>59&&24>o?n+o+" horas":o>23?n+a+" dias":n+t+" minutos"},e.set_bg=function(e){var a,o;return a=Math.round((Date.parse(e.fecha_inicio_estadia)-Date.now())/36e5),o=Math.round((Date.parse(e.fecha_inicio_estadia)-Date.now())/6e4),e.confirmada?{"background-color":"#FFFFFF"}:59>o&&1>a?{"background-color":"#C24641"}:a>0&&6>a?{"background-color":"#FFF380"}:void 0},e.set_color=function(e){return Math.round((Date.parse(e.fecha_inicio_estadia)-Date.now())/6e4)<59&&!e.confirmada?{color:"white"}:void 0},e.update1=function(e){return e.confirmada=!0,n.update(e.id,e)},(r=function(){t(function(){r()},6e4)})()}])}).call(this);